# CI/CD 설명

## 1. GitHub Actions를 사용하는 이유

Git Actions 에서 지원해주는 다양한 클라우드 자원에 접근할 수 있는 기능들과 빠른 빌드를 맛 볼 수 있었다.

또한 개발자들의 놀이터인 Git 저장소에서 개발된 레포지토리의 특정 폴더에 CI/CD 코드의 파일만 써주고, 특정 브랜치에 이벤트가 일어났을 때 바로 실행해주기 때문에 굉장히 편리하다.

Git Action 이 수행되다가 에러가 나도 다시 실행을 시킬 수 있으며, 실시간으로 CI/CD 명령어들이 수행되는 log 들을 볼 수 있다.

모든 개발자들이 배포 전에 이미지 빌딩 환경을 일관되게 가져갈 수 있기 때문에 Docker 의 platform 을 크게 신경쓰지 않아도 된다.

## 2. 워크플로우 실행 조건

`.github/workflows/deploy.yml` 의 다음 설정 정의

```yml
on:
  push:
    branches: [ main ]
```

## 3. 자동화된 단계별 흐름

1. 우선 배포 환경으로 공개 이미지 배포 서버에 이미지를 빌드 후 푸시
2. `docker-compose.yml` 파일을 `scp` 명령을 통해 컴퓨팅 머신에게 파일 전송
3. 컴퓨팅 자원에 접속
    4. 접속된 환경에서 알맞은 환경 변수 값 세팅
    5. 세팅 후 `docker-compose.yml` 실행

## 4. (있다면) 실패했을 때 원인과 해결 과정

자세한 회고는 6번 파일에서 작성

**해결 과정**

다음중 선택하면 무조건 풀린다

- 에러의 맨 첫부분만 드래그 하여 클로드한테 준다.
    - 무료는 GPT 는 별로, 클로드가 더 낫다.
- 공식 문서를 참고한다.