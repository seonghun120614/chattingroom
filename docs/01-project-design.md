# 프로젝트 설계

## 1. 서비스 설명

채팅 없는 채팅방을 생성/삭제를 만드는 아주 간단한 서비스

## 2. 전체 흐름

1. 사용자는 `http://<server-host>:3000` 로 접속
2. 접속하자마자 비동기 방식의 채팅방 목록들을 불러오는 GET 방식의 HTTP 요청이 백엔드 서버로 전송
3. 호출 받은 백엔드 서버에서는 채팅방 목록들을 MySQL 서버에서 가져옴
4. `application/json` 형태로 목록 반환
5. 사용자가 채팅방 이름을 입력 후 버튼 클릭
6. 사용자가 입력한 데이터는 `Content-Type: text/plain` 의 헤더와 함께 `POST` 방식의 request 로 전송
7. 백엔드 서버는 MySQL 데이터베이스에 저장하고, 백엔드 서버는 저장된 엔티티를 `application/json` 형태로 전송
8. 프론트는 받은 데이터로는 아무 것도 안하며, 다시 채팅방 목록들을 불러오는 API 호출(2번 단계와 동일)

## 3. 프론트엔드 역할

- 사용자의 입력에 대한 응답을 할 수 있는 문서 렌더링의 최적화
- 백엔드의 세부 비즈니스 로직을 보지 않고, 오로지 사용자에게는 UI/UX 친화적인 형태의 서비스를 이용할 수 있도록 제공
- 사용자는 서비스 요청에 대해 복잡한 서비스 호출 명령어들을 알 필요가 없이 입력 폼만 제대로 작성하도록 강제

## 4. 백엔드 역할

- 클라이언트의 HTTP 요청을 받아들여 요청에 맞는 서비스 로직을 실행하고 결과를 응답하는 역할
- 직접적인 자원인 DB 에 접근을 1차적으로 보안하는 역할
- 서비스에 맞는 연산을 처리하며, 처리할 때 ACID 를 보장하는 역할
- 요청에 대한 유효성 검증
- 가지고 있는 자원에 대한 인증/인가 역할 수행
- 서비스를 제공하기 위해 필요한 외부 API 서비스 와의 연결점

## 5. 배포 구조 요약

- 로컬 환경
    - 개발자가 개발하기 쉬운 형태로 환경변수를 가져간다
    - 개발자의 개인 컴퓨터에서 실행되기 때문에 테스트하기 수월하다
    - 각자의 컴퓨터가 사양이 다를 수 있기에 팀 프로젝트 개발에서는 이를 고려하여 환경을 구성한다
    - 외부 서버, 클라우드 환경과는 독립적이다
- 배포 환경
    - 로컬 환경에서 개발된 서비스를 실제로 인터넷에 노출시킬 환경이다
    - 컴퓨팅 자원이 있는 서버라고 불리는 곳에서 실행되며 개인 컴퓨터 보다는 성능이 우수하다
    - host 이름이 달라져 `localhost` 의 URI 주소를 수정해주어야 한다
    - 다른 외부 서버들과 연결되어야 동작되는 기능인 경우에 추가적인 사전 API healthcheck 를 해주어야 한다
    - 로컬에서 쓰여졌던 보안 설정을 그대로 들고 올 수 없고, 외부로 노출되기 때문에 항상 불필요한 포트 노출, 보안 설정이 제대로 되었는지 확인하며 보안 사고 뉴스를 챙겨보며 신속히 대처해야 한다
    - 환경 변수를 통해 민감한 정보를 가리도록 한다